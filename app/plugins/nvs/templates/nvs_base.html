{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>New Variorum Shakespeare</title>
  <link rel="stylesheet" href="{% static 'css/nvs.css' %}">
  <style>
    .nvs_base--main { margin-top: 4rem; }
    @media ( min-width: 576px ) {
      .nvs_base--main { margin-top: 3.5rem; }
    }
  </style>
  {% block headrefs %}
  {% endblock %}
</head>
<body>

{% include 'blocks/organisms/small-header.html' %}
{% include 'blocks/organisms/large-header.html' %}

<main class="nvs_base--main">
  {% block main %}
  {% endblock %}

  <!-- Here could be some javascript libraries referenced by every page -->

  <!-- Here is a block for child pages to have their own specific javascript libraries: -->
  {% block js %}
  {% endblock %}
</main>
{% include 'blocks/organisms/footer.html' %}
</body>

<script type="text/javascript">
  document.addEventListener('DOMContentLoaded', () => {
    let holders = document.querySelectorAll('.navigation--holder');
    holders.forEach(holder => {

      let dropDowns = holder.querySelectorAll('.navigation--dropdown');
      dropDowns.forEach(dropDown => {
        let button = dropDown.firstElementChild;
        button.addEventListener('click', () => {
          if (dropDown.classList.contains('active')) {
            dropDown.classList.remove('active');
          } else {
            let previouslyActive;
            if (dropDown.classList.contains('nested')) {
              previouslyActive = holder.querySelector('.navigation--dropdown.active.nested');
            } else {
              previouslyActive = holder.querySelector('.navigation--dropdown.active.parent');
            }
            if (previouslyActive) {
              previouslyActive.classList.remove('active');
            }
            dropDown.classList.add('active');
          }
        });
      })

    })
  })
</script>

</html>